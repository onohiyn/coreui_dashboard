{"version":3,"sources":["http-common.js","views/base/tables/board.js"],"names":["axios","create","baseURL","Board","result","setResult","useState","history","useHistory","api","httpCommon","header","Connection","Accept","useEffect","defaults","headers","common","localStorage","getItem","post","then","json","data","catch","error","alert","clear","push","className","scope","map","row","userId","title","href","onClick"],"mappings":"yGAAA,sBAEeA,QAAMC,OAAO,CAE1BC,QAAS,iC,iCCJX,6DA0FeC,UAtEf,WACE,MAAOC,EAAQC,GAAaC,mBAAS,IAC/BC,EAAUC,cACVC,EAAMC,IACNC,EAAS,CACbC,WAAY,aACZC,OAAQ,OAkCV,OAhBAC,qBAAU,KAXRL,EAAIM,SAASC,QAAQC,OAArB,cAA+C,UAAYC,aAAaC,QAAQ,SAChFV,EACGW,KAAK,iBAAkB,GAAIT,GAC3BU,MAAMC,GAASjB,EAAUiB,EAAKC,QAC9BC,OAAOC,IACNC,MAAM,mEACNR,aAAaS,QACbpB,EAAQqB,KAAK,aAMV,SACN,IAcD,cAAC,KAAD,UACE,eAAC,IAAD,CAAOC,UAAU,OAAjB,UACE,eAAC,IAAD,WACE,wDADF,IACuB,0DAEvB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAkBC,MAAM,MAAxB,gCACA,cAAC,KAAD,CAAkBA,MAAM,MAAxB,+BAGJ,cAAC,KAAD,UAzBH1B,EAAO2B,KAAKC,GAEf,eAAC,KAAD,WACE,cAAC,KAAD,UAAiBA,EAAIC,SACrB,cAAC,KAAD,UAAiBD,EAAIE,UAFPF,EAAIC,mBA2BpB,cAAC,IAAD,UACE,cAAC,IAAD,CAAaE,KAAK,mCAAlB,SACE,qBAAKN,UAAU,gDAAf,SACE,cAAC,IAAD,CAASO,QAtDD,KAClB7B,EAAQqB,KAAK,iBAqDH","file":"static/js/14.2f22af58.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport default axios.create({\n  //baseURL: 'http://localhost:8080/',\n  baseURL: 'http://146.56.171.145:8080/',\n})\n","import React, { useState, useEffect } from 'react'\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CRow,\n  CTable,\n  CTableBody,\n  CTableDataCell,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n  CButton,\n} from '@coreui/react'\nimport { DocsExample } from 'src/components'\n\nimport { useHistory } from 'react-router-dom'\nimport httpCommon from 'src/http-common'\n\nfunction Board() {\n  const [result, setResult] = useState([])\n  const history = useHistory()\n  const api = httpCommon\n  const header = {\n    Connection: 'keep-alive',\n    Accept: '*/*',\n  }\n  const handleClick = () => {\n    history.push('/board_write')\n  }\n\n  function submitApi() {\n    api.defaults.headers.common[`Authorization`] = 'Bearer ' + localStorage.getItem('token')\n    api\n      .post('/boardcontents', {}, header)\n      .then((json) => setResult(json.data))\n      .catch((error) => {\n        alert('로그인 후 이용해 주세요')\n        localStorage.clear()\n        history.push('/login')\n      })\n  }\n\n  useEffect(() => {\n    submitApi()\n    return () => {}\n  }, [])\n\n  const rederTable = () => {\n    return result.map((row) => {\n      return (\n        <CTableRow key={row.userId}>\n          <CTableDataCell>{row.userId}</CTableDataCell>\n          <CTableDataCell>{row.title}</CTableDataCell>\n        </CTableRow>\n      )\n    })\n  }\n\n  return (\n    <CRow>\n      <CCard className=\"mb-4\">\n        <CCardHeader>\n          <strong>게시판</strong> <small>게시물</small>\n        </CCardHeader>\n        <CCardBody>\n          <DocsExample>\n            <CTable>\n              <CTableHead>\n                <CTableRow>\n                  <CTableHeaderCell scope=\"col\">작성자</CTableHeaderCell>\n                  <CTableHeaderCell scope=\"col\">제목</CTableHeaderCell>\n                </CTableRow>\n              </CTableHead>\n              <CTableBody>{rederTable()}</CTableBody>\n            </CTable>\n          </DocsExample>\n        </CCardBody>\n        <CCol>\n          <DocsExample href=\"components/buttons#block-buttons\">\n            <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n              <CButton onClick={handleClick}> 글쓰기</CButton>\n            </div>\n          </DocsExample>\n        </CCol>\n      </CCard>\n    </CRow>\n  )\n}\nexport default Board\n"],"sourceRoot":""}