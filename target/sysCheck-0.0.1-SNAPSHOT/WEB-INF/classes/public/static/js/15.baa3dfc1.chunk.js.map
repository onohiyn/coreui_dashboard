{"version":3,"sources":["http-common.js","views/base/tables/board_write.js"],"names":["axios","create","baseURL","Write","title","setTitle","useState","text","setText","file","setFile","history","useHistory","userId","localStorage","getItem","api","httpCommon","formData","FormData","boardData","header","Connection","Accept","ContentType","onSubmit","e","append","Blob","JSON","stringify","type","defaults","headers","common","post","then","response","push","catch","error","clear","Submit","preventDefault","className","htmlFor","size","placeholder","onChange","target","value","id","rows","multiple","files"],"mappings":"yGAAA,sBAEeA,QAAMC,OAAO,CAE1BC,QAAS,iC,iCCJX,oDA0FeC,UA1Ef,WACE,MAAOC,EAAOC,GAAYC,sBACnBC,EAAMC,GAAWF,sBACjBG,EAAMC,GAAWJ,qBAClBK,EAAUC,cACVC,EAASC,aAAaC,QAAQ,UAC9BC,EAAMC,IACNC,EAAW,IAAIC,SACfC,EAAY,CAAEhB,MAAOA,EAAOG,KAAMA,EAAMM,OAAQA,GAQhDQ,EAAS,CACbC,WAAY,aACZC,OAAQ,MACRC,YAAa,uBAgBf,OACE,eAAC,KAAD,WACE,cAAC,IAAD,UACE,uEAEF,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAOC,SAhCOC,IACpBR,EAASS,OAAO,OAAQlB,EAAK,IAC7BS,EAASS,OAAO,QAAS,IAAIC,KAAK,CAACC,KAAKC,UAAUV,IAAa,CAAEW,KAAM,sBAUzE,SAAgBb,GACdF,EAAIgB,SAASC,QAAQC,OAArB,cAA+C,UAAYpB,aAAaC,QAAQ,SAChFC,EACGmB,KAAK,cAAejB,EAAUG,GAC9Be,MAAMC,IACL1B,EAAQ2B,KAAK,YAEdC,OAAOC,IACN1B,aAAa2B,QACb9B,EAAQ2B,KAAK,aAlBjBI,CAAOxB,GACPQ,EAAEiB,kBA4BI,UACE,sBAAKC,UAAU,OAAf,UACE,cAAC,IAAD,CAAYC,QAAQ,WAApB,0BACA,cAAC,IAAD,CACEd,KAAK,OACLe,KAAK,KACLC,YAAY,eACZ,aAAW,mBACXC,SAAWtB,GAAMrB,EAASqB,EAAEuB,OAAOC,SAGrC,cAAC,IAAD,CACEC,GAAG,WACHC,KAAK,IACLJ,SAAWtB,GAAMlB,EAAQkB,EAAEuB,OAAOC,SAEpC,cAAC,IAAD,CACEnB,KAAK,OACLsB,UAAQ,EACRF,GAAG,OACHH,SAAWtB,GAAMhB,EAAQgB,EAAEuB,OAAOK,YAGtC,qBAAKV,UAAU,gDAAf,SACE,cAAC,IAAD,CAASb,KAAK,SAAd","file":"static/js/15.baa3dfc1.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport default axios.create({\n  //baseURL: 'http://localhost:8080/',\n  baseURL: 'http://146.56.171.145:8080/',\n})\n","import React, { useState } from 'react'\nimport {\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CRow,\n  CButton,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CFormTextarea,\n} from '@coreui/react'\n\nimport { useHistory } from 'react-router-dom'\nimport httpCommon from 'src/http-common'\n\nfunction Write() {\n  const [title, setTitle] = useState()\n  const [text, setText] = useState()\n  const [file, setFile] = useState()\n  const history = useHistory()\n  const userId = localStorage.getItem('userId')\n  const api = httpCommon\n  const formData = new FormData()\n  const boardData = { title: title, text: text, userId: userId }\n\n  const handleSubmit = (e) => {\n    formData.append('file', file[0])\n    formData.append('board', new Blob([JSON.stringify(boardData)], { type: 'application/json' }))\n    Submit(formData)\n    e.preventDefault()\n  }\n  const header = {\n    Connection: 'keep-alive',\n    Accept: '*/*',\n    ContentType: 'multipart/form-data',\n  }\n\n  function Submit(formData) {\n    api.defaults.headers.common[`Authorization`] = 'Bearer ' + localStorage.getItem('token')\n    api\n      .post('/boardWrite', formData, header)\n      .then((response) => {\n        history.push('board')\n      })\n      .catch((error) => {\n        localStorage.clear()\n        history.push('/login')\n      })\n  }\n\n  return (\n    <CRow>\n      <CCardHeader>\n        <strong>게시물 등록</strong>\n      </CCardHeader>\n      <CCol>\n        <CCardBody>\n          <CForm onSubmit={handleSubmit}>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"TextArea\">내용</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                size=\"sm\"\n                placeholder=\"제목\"\n                aria-label=\"sm input example\"\n                onChange={(e) => setTitle(e.target.value)}\n              />\n\n              <CFormTextarea\n                id=\"TextArea\"\n                rows=\"3\"\n                onChange={(e) => setText(e.target.value)}\n              ></CFormTextarea>\n              <CFormInput\n                type=\"file\"\n                multiple\n                id=\"file\"\n                onChange={(e) => setFile(e.target.files)}\n              />\n            </div>\n            <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n              <CButton type=\"submit\">등록</CButton>\n            </div>\n          </CForm>\n        </CCardBody>\n      </CCol>\n    </CRow>\n  )\n}\nexport default Write\n"],"sourceRoot":""}